{"version":3,"sources":["api/users.ts","api/todos.ts","components/UserInfo/UserInfo.tsx","components/TodoInfo/TodoInfo.tsx","components/TodoList/TodoList.tsx","components/function/getUserNameByUserId.ts","App.tsx","index.tsx"],"names":["id","name","username","email","title","completed","userId","UserInfo","_ref","user","_jsx","className","href","concat","children","TodoInfo","todo","_jsxs","classNames","TodoList","todos","map","React","Fragment","getUserNameByUserId","users","userTodo","find","customer","todosWithUser","todosDefault","customers","App","setTodos","useState","newTodo","setNewTodo","errors","setErrors","handleAddTodo","event","preventDefault","trim","nextId","length","Math","max","userInNewTodo","newTodoWithId","prevTodos","action","method","type","placeholder","value","onChange","target","replace","parseInt","disabled","onClick","e","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6138f22e.chunk.js","sourcesContent":["export default [\n  {\n    id: 1,\n    name: 'Leanne Graham',\n    username: 'Bret',\n    email: 'Sincere@april.biz',\n  },\n  {\n    id: 2,\n    name: 'Ervin Howell',\n    username: 'Antonette',\n    email: 'Shanna@melissa.tv',\n  },\n  {\n    id: 3,\n    name: 'Clementine Bauch',\n    username: 'Samantha',\n    email: 'Nathan@yesenia.net',\n  },\n  {\n    id: 4,\n    name: 'Patricia Lebsack',\n    username: 'Karianne',\n    email: 'Julianne.OConner@kory.org',\n  },\n  {\n    id: 5,\n    name: 'Chelsey Dietrich',\n    username: 'Kamren',\n    email: 'Lucio_Hettinger@annie.ca',\n  },\n  {\n    id: 6,\n    name: 'Mrs. Dennis Schulist',\n    username: 'Leopoldo_Corkery',\n    email: 'Karley_Dach@jasper.info',\n  },\n  {\n    id: 7,\n    name: 'Kurtis Weissnat',\n    username: 'Elwyn.Skiles',\n    email: 'Telly.Hoeger@billy.biz',\n  },\n  {\n    id: 8,\n    name: 'Nicholas Runolfsdottir V',\n    username: 'Maxime_Nienow',\n    email: 'Sherwood@rosamond.me',\n  },\n  {\n    id: 9,\n    name: 'Glenna Reichert',\n    username: 'Delphine',\n    email: 'Chaim_McDermott@dana.io',\n  },\n  {\n    id: 10,\n    name: 'Clementina DuBuque',\n    username: 'Moriah.Stanton',\n    email: 'Rey.Padberg@karina.biz',\n  },\n];\n","export default [\n  {\n    id: 1,\n    title: 'delectus aut autem',\n    completed: true,\n    userId: 1,\n  },\n  {\n    id: 15,\n    title: 'some other todo',\n    completed: false,\n    userId: 1,\n  },\n  {\n    id: 2,\n    title: 'quis ut nam facilis et officia qui',\n    completed: false,\n    userId: 4,\n  },\n];\n","import React from 'react';\nimport { User } from '../types/types';\n\ntype UserInfoProps = {\n  user: User;\n};\n\nexport const UserInfo: React.FC<UserInfoProps> = ({ user }) => {\n  return (\n    <a className=\"UserInfo\" href={`mailto:${user?.email}`}>\n      {user?.name}\n    </a>\n  );\n};\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Todo, User } from '../types/types';\nimport { UserInfo } from '../UserInfo';\n\ntype TodoInfoProps = {\n  todo: Todo;\n};\n\nexport const TodoInfo: React.FC<TodoInfoProps> = ({ todo }) => {\n  const { user, completed } = todo;\n\n  return (\n    <article\n      key={todo.id}\n      data-id={todo.id}\n      className={classNames('TodoInfo',\n        {\n          'TodoInfo--completed': completed,\n        })}\n    >\n      <h2 className=\"TodoInfo__title\">{todo.title}</h2>\n      <UserInfo user={user as User} />\n    </article>\n  );\n};\n","import React from 'react';\nimport { TodoInfo } from '../TodoInfo';\nimport { Todo } from '../types/types';\n\ntype TodoListProps = {\n  todos: Todo[];\n};\n\nexport const TodoList: React.FC<TodoListProps> = ({ todos }) => {\n  return (\n    <section className=\"TodoList\">\n      {todos.map((todo) => {\n        const { user } = todo;\n\n        if (!user) {\n          return null;\n        }\n\n        return (\n          <React.Fragment key={todo.id}>\n            <TodoInfo todo={todo} />\n          </React.Fragment>\n        );\n      })}\n    </section>\n  );\n};\n","import { Todo, User } from '../types/types';\n\nexport function getUserNameByUserId(\n  userId: number,\n  todos: Todo[],\n  users: User[],\n): User | undefined {\n  const userTodo: Todo | undefined = todos.find(\n    (todo) => todo.userId === userId,\n  );\n\n  if (!userTodo) {\n    return undefined;\n  }\n\n  const user: User | undefined = users.find(\n    (customer) => customer.id === userTodo.userId,\n  );\n\n  return user;\n}\n","import './App.scss';\nimport React, { useState } from 'react';\nimport customers from './api/users';\nimport todosDefault from './api/todos';\nimport { TodoList } from './components/TodoList';\nimport { getUserNameByUserId } from './components/function/getUserNameByUserId';\n\ntype Todo = {\n  id: number;\n  title: string;\n  userId: number;\n  completed: boolean;\n  user?: User;\n};\n\ntype User = {\n  id: number;\n  name: string;\n  username: string;\n  email: string;\n};\n\nconst todosWithUser : Todo[] = todosDefault.map((todo) => {\n  const user = getUserNameByUserId(todo.userId, todosDefault, customers);\n\n  return { ...todo, user };\n});\n\nexport const App: React.FC = () => {\n  const [todos, setTodos] = useState<Todo[]>(todosWithUser);\n  const [users] = useState<User[]>(customers);\n\n  const [newTodo, setNewTodo] = useState<Todo>({\n    id: 1,\n    title: '',\n    userId: 0,\n    completed: false,\n    user: {\n      id: 0,\n      name: '',\n      username: '',\n      email: '',\n    },\n  });\n\n  const [errors, setErrors] = useState<{ title: string; user: string }>({\n    title: '',\n    user: '',\n  });\n\n  const getNextId = () => {\n    const maxId = todos.length > 0 ? Math.max(\n      ...todos.map((todo) => todo.id),\n    ) : 0;\n\n    return maxId + 1;\n  };\n\n  const handleTitleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const title = event.target.value;\n\n    setNewTodo({\n      ...newTodo,\n      title: title.replace(/[^a-zA-Z0-9\\s]/g, ''),\n    });\n    if (title.trim() === '') {\n      setErrors({ ...errors, title: 'Please enter a title' });\n    } else {\n      setErrors({ ...errors, title: '' });\n    }\n  };\n\n  const handleUserChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    const userId = parseInt(event.target.value, 10);\n\n    setNewTodo({ ...newTodo, userId });\n    if (userId === 0) {\n      setErrors({ ...errors, user: 'Please choose a user' });\n    } else {\n      setErrors({ ...errors, user: '' });\n    }\n  };\n\n  const handleAddTodo = (event: React.MouseEvent<HTMLButtonElement>) => {\n    event.preventDefault();\n    if (newTodo.title.trim() === '' || newTodo.userId === 0) {\n      setErrors({\n        title: newTodo.title.trim() === '' ? 'Please enter a title' : '',\n        user: newTodo.userId === 0 ? 'Please choose a user' : '',\n      });\n\n      return;\n    }\n\n    const nextId = getNextId();\n\n    const userInNewTodo = getUserNameByUserId(\n      newTodo.userId, [newTodo], customers,\n    );\n\n    const newTodoWithId: Todo = {\n      ...newTodo,\n      user: userInNewTodo,\n      id: nextId,\n    };\n\n    setTodos(prevTodos => [...prevTodos, newTodoWithId]);\n\n    setNewTodo({\n      id: nextId + 1,\n      title: '',\n      userId: 0,\n      completed: false,\n    });\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Add todo form</h1>\n\n      <form action=\"#\" method=\"POST\">\n        <div className=\"field\">\n          <input\n            type=\"text\"\n            data-cy=\"titleInput\"\n            placeholder=\"Add you task\"\n            value={newTodo.title}\n            onChange={handleTitleChange}\n          />\n          <span className=\"error\">{errors.title}</span>\n        </div>\n\n        <div className=\"field\">\n          <select\n            data-cy=\"userSelect\"\n            value={newTodo.userId}\n            onChange={handleUserChange}\n          >\n            <option value={0} disabled>\n              Choose a user\n            </option>\n            {users.map((user) => (\n              <option key={user.id} value={user.id}>\n                {user.name}\n              </option>\n            ))}\n          </select>\n\n          <span className=\"error\">{errors.user}</span>\n        </div>\n\n        <button\n          type=\"submit\"\n          data-cy=\"submitButton\"\n          onClick={(e) => handleAddTodo(e)}\n        >\n          Add\n        </button>\n      </form>\n\n      <TodoList todos={todos} />\n    </div>\n  );\n};\n","import ReactDOM from 'react-dom';\nimport { App } from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}